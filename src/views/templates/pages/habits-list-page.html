<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    
    <title>Habits</title>
    <!--Style Sheet-->
    <link rel="stylesheet" href="../../static/style.css">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="../../../node_modules/bootstrap/dist/css/bootstrap.min.css"> 
  </head>

  <body class="background">

    <div id="nav"></div>
    <div id="currentPage"></div>    
    <div id="footer"></div>

    <!-- JQuery -->
    <script>window.$ = require("../../static/jquery-3.4.1.js");</script>

    <!-- nav, currentPage and footer -->
    <script src="../../static/js/page-template.js"></script>
    <script>
      let theTemplate = new template("../content/habits-list-content.html");

      let thePromise = new Promise((resolve) => {
        theTemplate.loadTemplate("list", "../content/nav.html", "../content/footer.html", resolve);
      })
      .then((result) => {
        theTemplate.getGoalOptions('Create');
      });

    </script>

    <script>
      function changeAnchorLink(){
        let theTable = $("input[name = 'habit-tables']:checked").val();
        let theHabit = $("input[name = 'habits-group']:checked").val();

        if(theTable == "Create"){
          $("#preview-link").attr("href",`./cheat-sheet-create.html?table=${theTable}&goalTwo=${theHabit}`);
        }
        else{
          $("#preview-link").attr("href",`./cheat-sheet-break.html?table=${theTable}&goalTwo=${theHabit}`);
        }
        $("#preview-link").attr("target", "_blank");      
      };
    </script>
  </body>
</html>